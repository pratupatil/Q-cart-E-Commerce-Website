{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\patil\\\\Downloads\\\\Qkart_FrontEnd-main\\\\Qkart_FrontEnd-main\\\\src\\\\components\\\\Products.js\",\n  _s = $RefreshSig$();\nimport { Search, SentimentDissatisfied } from \"@mui/icons-material\";\nimport { CircularProgress, Grid, InputAdornment, TextField, Box, Typography } from \"@mui/material\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport SentimentNeutralIcon from \"@mui/icons-material/SentimentNeutral\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { config } from \"../App\";\nimport ProductCard from \"./ProductCard\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport Cart from \"./Cart\";\nimport { generateCartItemsFrom } from \"./Cart\";\nimport \"./Products.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Products = () => {\n  _s();\n  const history = useHistory();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const [isLoading, setIsLoading] = useState(true);\n  const [debounce, setDebounce] = useState(0);\n  const [productsData, setProductsData] = useState([]);\n  const [cartData, setCartData] = useState([]);\n  const [items, setItems] = useState([]);\n  const username = localStorage.getItem(\"username\");\n  const token = localStorage.getItem(\"token\");\n  const performAPICall = async () => {\n    try {\n      const response = await axios.get(`${config.endpoint}/products`);\n      setProductsData(response.data);\n      setIsLoading(false);\n      return response.data;\n    } catch (err) {\n      setIsLoading(false);\n      enqueueSnackbar(err.response.data.message, {\n        variant: \"error\"\n      });\n      console.log(err.response);\n    }\n  };\n  useEffect(() => {\n    (async function () {\n      const dataFromProductAPI = await performAPICall();\n      const dataFromCartAPI = await fetchCart(token);\n      const cartDetails = await generateCartItemsFrom(dataFromCartAPI, dataFromProductAPI);\n      setItems(cartDetails);\n    })();\n  }, []);\n  const performSearch = async e => {\n    try {\n      const url = `${config.endpoint}/products/search?value=${e.target.value}`;\n      const response = await axios.get(url);\n      console.log(response.data);\n      setProductsData(response.data);\n    } catch (err) {\n      if (err.response.status === 404) {\n        setProductsData(err.response.data);\n        console.log(err.response);\n      }\n    }\n  };\n\n  /**\n   * Definition for debounce handler\n   * With debounce, this is the function to be called whenever the user types text in the searchbar field\n   *\n   * @param {{ target: { value: string } }} event\n   *    JS event object emitted from the search input field\n   *\n   * @param {NodeJS.Timeout} debounceTimeout\n   *    Timer id set for the previous debounce call\n   *\n   */\n\n  const debounceSearch = (event, debounceTimeout) => {\n    let timeout;\n    if (debounce) {\n      clearTimeout(debounce);\n    }\n    timeout = setTimeout(() => performSearch(event), debounceTimeout);\n    setDebounce(timeout);\n  };\n\n  /**\n   * Perform the API call to fetch the user's cart and return the response\n   *\n   * @param {string} token - Authentication token returned on login\n   *\n   * @returns { Array.<{ productId: string, qty: number }> | null }\n   *    The response JSON object\n   *\n   * Example for successful response from backend:\n   * HTTP 200\n   * [\n   *      {\n   *          \"productId\": \"KCRwjF7lN97HnEaY\",\n   *          \"qty\": 3\n   *      },\n   *      {\n   *          \"productId\": \"BW0jAAeDJmlZCF8i\",\n   *          \"qty\": 1\n   *      }\n   * ]\n   *\n   * Example for failed response from backend:\n   * HTTP 401\n   * {\n   *      \"success\": false,\n   *      \"message\": \"Protected route, Oauth2 Bearer token not found\"\n   * }\n   */\n\n  const fetchCart = async token => {\n    if (!token) return;\n    const url = `${config.endpoint}/cart`;\n    try {\n      // TODO: CRIO_TASK_MODULE_CART - Pass Bearer token inside \"Authorization\" header to get data from \"GET /cart\" API and return the response data\n      const response = await axios.get(url, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setCartData(response.data);\n      return response.data;\n    } catch (e) {\n      if (e.response && e.response.status === 400) {\n        enqueueSnackbar(e.response.data.message, {\n          variant: \"error\"\n        });\n      } else {\n        enqueueSnackbar(\"Could not fetch cart details. Check that the backend is running, reachable and returns valid JSON.\", {\n          variant: \"error\"\n        });\n      }\n      return null;\n    }\n  };\n\n  // TODO: CRIO_TASK_MODULE_CART - Return if a product already exists in the cart\n  /**\n   * Return if a product already is present in the cart\n   *\n   * @param { Array.<{ productId: String, quantity: Number }> } items\n   *    Array of objects with productId and quantity of products in cart\n   * @param { String } productId\n   *    Id of a product to be checked\n   *\n   * @returns { Boolean }\n   *    Whether a product of given \"productId\" exists in the \"items\" array\n   *\n   */\n  const isItemInCart = (items, productId) => {\n    return items.find(item => {\n      return item.productId === productId;\n    });\n  };\n\n  /**\n   * Perform the API call to add or update items in the user's cart and update local cart data to display the latest cart\n   *\n   * @param {string} token\n   *    Authentication token returned on login\n   * @param { Array.<{ productId: String, quantity: Number }> } items\n   *    Array of objects with productId and quantity of products in cart\n   * @param { Array.<Product> } products\n   *    Array of objects with complete data on all available products\n   * @param {string} productId\n   *    ID of the product that is to be added or updated in cart\n   * @param {number} qty\n   *    How many of the product should be in the cart\n   * @param {boolean} options\n   *    If this function was triggered from the product card's \"Add to Cart\" button\n   *\n   * Example for successful response from backend:\n   * HTTP 200 - Updated list of cart items\n   * [\n   *      {\n   *          \"productId\": \"KCRwjF7lN97HnEaY\",\n   *          \"qty\": 3\n   *      },\n   *      {\n   *          \"productId\": \"BW0jAAeDJmlZCF8i\",\n   *          \"qty\": 1\n   *      }\n   * ]\n   *\n   * Example for failed response from backend:\n   * HTTP 404 - On invalid productId\n   * {\n   *      \"success\": false,\n   *      \"message\": \"Product doesn't exist\"\n   * }\n   */\n  const addToCart = async (token, items, products, productId, qty, options = {\n    preventDuplicate: false\n  }) => {\n    try {\n      if (!token) {\n        enqueueSnackbar(\"Login to add an item to the Cart\", {\n          variant: \"error\"\n        });\n        return;\n      }\n      if (options.preventDuplicate) {\n        if (isItemInCart(items, productId)) {\n          enqueueSnackbar(\"Item already in cart. Use the cart sidebar to update quantity or remove item.\", {\n            variant: \"warning\"\n          });\n          return;\n        }\n      }\n      const url = `${config.endpoint}/cart`;\n      const itemToBeAdded = {\n        productId,\n        qty\n      };\n      const response = await axios.post(url, itemToBeAdded, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setCartData(response.data);\n      const cartDetails = await generateCartItemsFrom(response.data, productsData);\n      setItems(cartDetails);\n    } catch (err) {\n      if (err.response && err.response.status === 400) {\n        enqueueSnackbar(\"Session has expired please login again!\", {\n          variant: \"error\"\n        });\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        className: \"search search-desktop\",\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          variant: \"outlined\",\n          size: \"small\"\n          // value={value}\n          ,\n          placeholder: \"Search for items/categories\",\n          InputProps: {\n            endAdornment: /*#__PURE__*/_jsxDEV(SearchIcon, {\n              color: \"primary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 29\n            }, this)\n          },\n          onChange: e => debounceSearch(e, 500)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: \"search-mobile\",\n      children: /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        variant: \"outlined\",\n        size: \"small\",\n        placeholder: \"Search for items/categories\",\n        InputProps: {\n          endAdornment: /*#__PURE__*/_jsxDEV(SearchIcon, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 27\n          }, this)\n        },\n        onChange: e => debounceSearch(e, 500)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        md: username ? 8 : 12,\n        lg: username ? 9 : 12,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          className: \"product-grid\",\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            className: \"hero\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"hero-heading\",\n              children: [\"India\\u2019s \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"hero-highlight\",\n                children: \"FASTEST DELIVERY\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 25\n              }, this), \" \", \"to your door step\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), isLoading ? /*#__PURE__*/_jsxDEV(Box, {\n          className: \"loading\",\n          children: [/*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            children: \"Loading Products...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this) : productsData.length !== 0 ? /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          rowSpacing: 2.5,\n          columnSpacing: 2,\n          my: 2,\n          px: 2,\n          children: productsData.map(product => /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 6,\n            md: 3,\n            children: /*#__PURE__*/_jsxDEV(ProductCard, {\n              product: product,\n              handleAddToCart: (id, qty) => addToCart(token, cartData, productsData, id, qty, {\n                preventDuplicate: true\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 19\n            }, this)\n          }, product._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Box, {\n          className: \"loading\",\n          children: [/*#__PURE__*/_jsxDEV(SentimentNeutralIcon, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"textSecondary\",\n            mt: 1,\n            children: \"No Products found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), username ? /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 4,\n        lg: 3,\n        className: \"cart-background\",\n        children: /*#__PURE__*/_jsxDEV(Cart, {\n          products: productsData,\n          items: items,\n          handleQuantity: (id, qty) => addToCart(token, cartData, productsData, id, qty)\n          // handleQuantity={addToCart}\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 270,\n    columnNumber: 5\n  }, this);\n};\n_s(Products, \"XDleGCPg3Ez/ZXMulUY2Tao1r2U=\", false, function () {\n  return [useHistory, useSnackbar];\n});\n_c = Products;\nexport default Products;\nvar _c;\n$RefreshReg$(_c, \"Products\");","map":{"version":3,"names":["Search","SentimentDissatisfied","CircularProgress","Grid","InputAdornment","TextField","Box","Typography","SearchIcon","SentimentNeutralIcon","axios","useSnackbar","React","useEffect","useState","useHistory","config","ProductCard","Footer","Header","Cart","generateCartItemsFrom","jsxDEV","_jsxDEV","Products","_s","history","enqueueSnackbar","isLoading","setIsLoading","debounce","setDebounce","productsData","setProductsData","cartData","setCartData","items","setItems","username","localStorage","getItem","token","performAPICall","response","get","endpoint","data","err","message","variant","console","log","dataFromProductAPI","dataFromCartAPI","fetchCart","cartDetails","performSearch","e","url","target","value","status","debounceSearch","event","debounceTimeout","timeout","clearTimeout","setTimeout","headers","Authorization","isItemInCart","productId","find","item","addToCart","products","qty","options","preventDuplicate","itemToBeAdded","post","children","className","fullWidth","size","placeholder","InputProps","endAdornment","color","fileName","_jsxFileName","lineNumber","columnNumber","onChange","container","md","lg","length","rowSpacing","columnSpacing","my","px","map","product","xs","handleAddToCart","id","_id","mt","handleQuantity","_c","$RefreshReg$"],"sources":["C:/Users/patil/Downloads/Qkart_FrontEnd-main/Qkart_FrontEnd-main/src/components/Products.js"],"sourcesContent":["import { Search, SentimentDissatisfied } from \"@mui/icons-material\";\nimport {\n  CircularProgress,\n  Grid,\n  InputAdornment,\n  TextField,\n  Box,\n  Typography,\n} from \"@mui/material\";\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport SentimentNeutralIcon from \"@mui/icons-material/SentimentNeutral\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"notistack\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { config } from \"../App\";\nimport ProductCard from \"./ProductCard\";\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport Cart from \"./Cart\";\nimport { generateCartItemsFrom } from \"./Cart\";\nimport \"./Products.css\";\n\nconst Products = () => {\n  const history = useHistory();\n  const { enqueueSnackbar } = useSnackbar();\n  const [isLoading, setIsLoading] = useState(true);\n\n \n  const [debounce, setDebounce] = useState(0);\n  const [productsData, setProductsData] = useState([]);\n \n  const [cartData, setCartData] = useState([]);\n  const [items, setItems] = useState([]);\n \n  const username = localStorage.getItem(\"username\");\n  const token = localStorage.getItem(\"token\");\n  \n  const performAPICall = async () => {\n    try {\n      const response = await axios.get(`${config.endpoint}/products`);\n      setProductsData(response.data);\n      setIsLoading(false);\n      \n      return response.data;\n    } catch (err) {\n      setIsLoading(false);\n      enqueueSnackbar(err.response.data.message, { variant: \"error\" });\n      console.log(err.response);\n    }\n  };\n\n  useEffect(() => {\n    (async function () {\n      const dataFromProductAPI = await performAPICall();\n      const dataFromCartAPI = await fetchCart(token);\n      const cartDetails = await generateCartItemsFrom(\n        dataFromCartAPI,\n        dataFromProductAPI\n      );\n      setItems(cartDetails);\n    })();\n  }, []);\n\n \n\n  const performSearch = async (e) => {\n    try {\n      const url = `${config.endpoint}/products/search?value=${e.target.value}`;\n      const response = await axios.get(url);\n      console.log(response.data);\n      setProductsData(response.data);\n    } catch (err) {\n      if (err.response.status === 404) {\n        setProductsData(err.response.data);\n        console.log(err.response);\n      }\n    }\n  };\n\n  /**\n   * Definition for debounce handler\n   * With debounce, this is the function to be called whenever the user types text in the searchbar field\n   *\n   * @param {{ target: { value: string } }} event\n   *    JS event object emitted from the search input field\n   *\n   * @param {NodeJS.Timeout} debounceTimeout\n   *    Timer id set for the previous debounce call\n   *\n   */\n\n  const debounceSearch = (event, debounceTimeout) => {\n    let timeout;\n\n    if (debounce) {\n      clearTimeout(debounce);\n    }\n\n    timeout = setTimeout(() => performSearch(event), debounceTimeout);\n    setDebounce(timeout);\n  };\n\n  /**\n   * Perform the API call to fetch the user's cart and return the response\n   *\n   * @param {string} token - Authentication token returned on login\n   *\n   * @returns { Array.<{ productId: string, qty: number }> | null }\n   *    The response JSON object\n   *\n   * Example for successful response from backend:\n   * HTTP 200\n   * [\n   *      {\n   *          \"productId\": \"KCRwjF7lN97HnEaY\",\n   *          \"qty\": 3\n   *      },\n   *      {\n   *          \"productId\": \"BW0jAAeDJmlZCF8i\",\n   *          \"qty\": 1\n   *      }\n   * ]\n   *\n   * Example for failed response from backend:\n   * HTTP 401\n   * {\n   *      \"success\": false,\n   *      \"message\": \"Protected route, Oauth2 Bearer token not found\"\n   * }\n   */\n\n  const fetchCart = async (token) => {\n    if (!token) return;\n    const url = `${config.endpoint}/cart`;\n    try {\n      // TODO: CRIO_TASK_MODULE_CART - Pass Bearer token inside \"Authorization\" header to get data from \"GET /cart\" API and return the response data\n      const response = await axios.get(url, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      setCartData(response.data);\n     \n      return response.data;\n      \n    } catch (e) {\n      if (e.response && e.response.status === 400) {\n        enqueueSnackbar(e.response.data.message, { variant: \"error\" });\n      } else {\n        enqueueSnackbar(\n          \"Could not fetch cart details. Check that the backend is running, reachable and returns valid JSON.\",\n          {\n            variant: \"error\",\n          }\n        );\n      }\n      return null;\n    }\n  };\n\n  // TODO: CRIO_TASK_MODULE_CART - Return if a product already exists in the cart\n  /**\n   * Return if a product already is present in the cart\n   *\n   * @param { Array.<{ productId: String, quantity: Number }> } items\n   *    Array of objects with productId and quantity of products in cart\n   * @param { String } productId\n   *    Id of a product to be checked\n   *\n   * @returns { Boolean }\n   *    Whether a product of given \"productId\" exists in the \"items\" array\n   *\n   */\n  const isItemInCart = (items, productId) => {\n    return items.find((item) => {\n      return item.productId === productId;\n    });\n  };\n\n  /**\n   * Perform the API call to add or update items in the user's cart and update local cart data to display the latest cart\n   *\n   * @param {string} token\n   *    Authentication token returned on login\n   * @param { Array.<{ productId: String, quantity: Number }> } items\n   *    Array of objects with productId and quantity of products in cart\n   * @param { Array.<Product> } products\n   *    Array of objects with complete data on all available products\n   * @param {string} productId\n   *    ID of the product that is to be added or updated in cart\n   * @param {number} qty\n   *    How many of the product should be in the cart\n   * @param {boolean} options\n   *    If this function was triggered from the product card's \"Add to Cart\" button\n   *\n   * Example for successful response from backend:\n   * HTTP 200 - Updated list of cart items\n   * [\n   *      {\n   *          \"productId\": \"KCRwjF7lN97HnEaY\",\n   *          \"qty\": 3\n   *      },\n   *      {\n   *          \"productId\": \"BW0jAAeDJmlZCF8i\",\n   *          \"qty\": 1\n   *      }\n   * ]\n   *\n   * Example for failed response from backend:\n   * HTTP 404 - On invalid productId\n   * {\n   *      \"success\": false,\n   *      \"message\": \"Product doesn't exist\"\n   * }\n   */\n  const addToCart = async (\n    token,\n    items,\n    products,\n    productId,\n    qty,\n    options = { preventDuplicate: false }\n  ) => {\n    try {\n      if (!token) {\n        enqueueSnackbar(\"Login to add an item to the Cart\", {\n          variant: \"error\",\n        });\n        return;\n      }\n      if (options.preventDuplicate) {\n        if (isItemInCart(items, productId)) {\n          enqueueSnackbar(\n            \"Item already in cart. Use the cart sidebar to update quantity or remove item.\",\n            { variant: \"warning\" }\n          );\n          return;\n        }\n      }\n      const url = `${config.endpoint}/cart`;\n      const itemToBeAdded = {\n        productId,\n        qty,\n      };\n      const response = await axios.post(url, itemToBeAdded, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      \n      setCartData(response.data);\n      const cartDetails = await generateCartItemsFrom(\n        response.data,\n        productsData\n      );\n      setItems(cartDetails);\n    } catch (err) {\n      if (err.response && err.response.status === 400) {\n        enqueueSnackbar(\"Session has expired please login again!\", {\n          variant: \"error\",\n        });\n      }\n    }\n\n    \n  };\n\n  return (\n    <div>\n      <Header>\n        <Box className=\"search search-desktop\">\n          <TextField\n            fullWidth\n            variant=\"outlined\"\n            size=\"small\"\n            // value={value}\n            placeholder=\"Search for items/categories\"\n            InputProps={{\n              endAdornment: <SearchIcon color=\"primary\" />,\n            }}\n            onChange={(e) => debounceSearch(e, 500)}\n          />\n        </Box>\n      </Header>\n      <Box className=\"search-mobile\">\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          size=\"small\"\n          placeholder=\"Search for items/categories\"\n          InputProps={{\n            endAdornment: <SearchIcon color=\"primary\" />,\n          }}\n          onChange={(e) => debounceSearch(e, 500)}\n        />\n      </Box>\n      <Grid container>\n        <Grid item md={username ? 8 : 12} lg={username ? 9 : 12}>\n          <Grid item className=\"product-grid\">\n            <Box className=\"hero\">\n              <p className=\"hero-heading\">\n                India’s <span className=\"hero-highlight\">FASTEST DELIVERY</span>{\" \"}\n                to your door step\n              </p>\n            </Box>\n          </Grid>\n          {isLoading ? (\n            <Box className=\"loading\">\n              <CircularProgress />\n              <Typography variant=\"body2\">Loading Products...</Typography>\n            </Box>\n          ) : productsData.length !== 0 ? (\n            <Grid container rowSpacing={2.5} columnSpacing={2} my={2} px={2}>\n              {productsData.map((product) => (\n                <Grid item xs={6} md={3} key={product._id}>\n                  <ProductCard\n                    product={product}\n                    handleAddToCart={(id, qty) =>\n                      addToCart(token, cartData, productsData, id, qty, {\n                        preventDuplicate: true,\n                      })\n                    }\n                  />\n                </Grid>\n              ))}\n            </Grid>\n          ) : (\n            <Box className=\"loading\">\n              <SentimentNeutralIcon color=\"primary\" />\n              <Typography variant=\"body2\" color=\"textSecondary\" mt={1}>\n                No Products found\n              </Typography>\n            </Box>\n          )}\n        </Grid>\n\n        {username ? (\n          <Grid item xs={12} md={4} lg={3} className=\"cart-background\">\n            {/* {items && <Cart products={productsData} items={items} />} */}\n            <Cart\n              products={productsData}\n              items={items}\n              handleQuantity={(id, qty) =>\n                addToCart(token, cartData, productsData, id, qty)\n              }\n              // handleQuantity={addToCart}\n            />\n          </Grid>\n        ) : null}\n      </Grid>\n\n      <Footer />\n    </div>\n  );\n};\n\nexport default Products;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}